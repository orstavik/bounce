<script src="../MonkeyPatch/MonkeyPatch.js"></script>
<script src="../ParserBreakEvent/ParserBreakEvent.js"></script>
<script src="../constructionFrame/constructionFrame.js"></script>
<script src="../childChanged/ChildChangedCallback.js"></script>
<script src="../BouncePath/BouncePath.js"></script>
<script src="../EventListenerRegistry/EventListenerRegistry.js"></script>
<script src="EventLoop.js"></script>


<event-loop>
    <task :created="1631618374265" :delay="2000" :start="1631789839346" :cb="plus">
        <task :created="1631618374264" :delay="2000" :start="1631789839347" :cb=multiply>
            <task :created="1631618374262" :delay="2000" :start="1631789839348" :cb=divide>
                <json>6</json>
                <json>1</json>
            </task>
            <json>2</json>
            <json>5</json>
        </task>
        <json>3</json>
    </task>
</event-loop>


<script>
  function multiply(args) {

    return args.reduce((sum, value) => parseInt(sum) * parseInt(value));
  }

  function divide(args) {
    return args.reduce((sum, value) => parseInt(sum) / parseInt(value));
  }

  function plus(args) {
    return args.reduce((sum, value) => parseInt(sum) + parseInt(value));
  }

  // window.a = function a() {
  //   console.log("a");
  //   return "a";
  // }
  //
  // const eventLoop = document.querySelector("event-loop");
  // console.log(eventLoop.childNodes.length); //0
  // setTimeout(a, 100);
  // console.log(eventLoop.childNodes.length); //1  //these run first because they are running sync, and the event-loop doesn't begin before DCL
  //a after 100ms
</script>