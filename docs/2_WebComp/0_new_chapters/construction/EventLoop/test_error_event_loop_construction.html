<script src="../MonkeyPatch/MonkeyPatch.js"></script>
<script src="../ParserBreakEvent/ParserBreakEvent.js"></script>
<script src="../constructionFrame/constructionFrame.js"></script>
<script src="../childChanged/ChildChangedCallback.js"></script>
<script src="../EventTarget/EventTarget.js"></script>
<script src="../HTMLEventElement/ElementEvent.js"></script>
<script src="../HTMLEventElement/HTMLEventElement.js"></script>
<script src="EventLoop.js"></script>

<body :uid="1">
<div></div>
</body>

<script>

  window.addEventListener("error", e => {
    e.preventDefault();
    const singleEventLoop = document.querySelectorAll("event-loop").length === 1;
    console.log(singleEventLoop, "Error");
  });

  const divElement = document.querySelector("div");

  console.log("Error: Append event-loop to illegal element");
  divElement.appendChild(document.createElement("event-loop"));

  console.log("Error: Add incorrect event-loop to incorrect element via innerHTML");
  divElement.innerHTML = `
    <event-loop>
        <event-loop></event-loop>
    </event-loop>`;

  console.log("First event-loop element");
  document.body.appendChild(document.createElement("event-loop"));

  console.log("Error: second event-loop element");
  document.body.appendChild(document.createElement("event-loop"));

  console.log("Error: third event-loop element");
  document.body.innerHTML += `<event-loop></event-loop>`;

</script>